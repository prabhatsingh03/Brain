<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg width="1200" height="800" viewBox="0 0 1200 800" xmlns="http://www.w3.org/2000/svg">
    <style>
        .equipment { fill: #1e3a5f; stroke: #4FC3F7; stroke-width: 2; cursor: pointer; transition: all 0.3s; }
        .equipment:hover { fill: #4FC3F7; fill-opacity: 0.2; filter: drop-shadow(0 0 5px #4FC3F7); }
        .pipe { stroke: #4FC3F7; stroke-width: 2; fill: none; stroke-opacity: 0.5; }
        .pipe-flow { stroke: #00ffcc; stroke-width: 3; fill: none; stroke-dasharray: 10, 20; stroke-linecap: round; }
        .label { fill: #4FC3F7; font-family: 'Arial', sans-serif; font-size: 14px; text-anchor: middle; pointer-events: none; }
    </style>

    <!-- PIPES BASE LAYER -->
    <!-- Main Feed to Pre-Scrubber -->
    <path id="pipe_feed_scrubber" d="M100 400 L250 400 L250 350" class="pipe" />
    <!-- Scrubber to Reactor -->
    <path id="pipe_scrubber_reactor" d="M350 250 L450 250 L450 400 L550 400" class="pipe" />
    <!-- Reactor Output -->
    <path id="pipe_reactor_out" d="M650 450 L750 450 L850 300" class="pipe" />
    
    <!-- EQUIPMENT -->
    
    <!-- PRE SCRUBBER -->
    <g id="pre_scrubber_group">
        <rect id="pre_scrubber" x="250" y="150" width="100" height="200" rx="5" class="equipment" />
        <line x1="260" y1="180" x2="340" y2="180" stroke="#4FC3F7" stroke-width="1" opacity="0.5"/>
        <line x1="260" y1="220" x2="340" y2="220" stroke="#4FC3F7" stroke-width="1" opacity="0.5"/>
        <line x1="260" y1="260" x2="340" y2="260" stroke="#4FC3F7" stroke-width="1" opacity="0.5"/>
        <text x="300" y="370" class="label">PRE SCRUBBER</text>
    </g>

    <!-- PIPE REACTOR -->
    <g id="pipe_reactor_group">
        <rect id="pipe_reactor" x="550" y="350" width="100" height="150" rx="10" class="equipment" />
        <circle cx="600" cy="425" r="30" fill="none" stroke="#4FC3F7" stroke-width="1" opacity="0.5"/>
        <text x="600" y="520" class="label">PIPE REACTOR</text>
    </g>

    <!-- GRANULATOR (Placeholder for 3rd node) -->
    <g id="granulator_group">
        <rect id="granulator" x="800" y="250" width="150" height="100" rx="0" class="equipment" />
        <text x="875" y="370" class="label">GRANULATOR</text>
    </g>

    <!-- FLOW PATHS (For GSAP) -->
    <!-- These duplicate the pipes but are for the animation layer -->
    <path id="flow_1" d="M100 400 L250 400 L250 350" class="pipe-flow" style="display:none;" />
    <path id="flow_2" d="M350 250 L450 250 L450 400 L550 400" class="pipe-flow" style="display:none;" />
    <path id="flow_3" d="M650 450 L750 450 L850 300" class="pipe-flow" style="display:none;" />

</svg>
